/*!
 * homey v0.1.0-beta.13
 * https://github.com/demiazz/homey
 *
 * Copyright 2017-present Alexey Plutalov <demiazz.py@gmail.com>
 * Released under the MIT license
 */

"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

function datasetNative(element) {
  return element.dataset;
}

function datasetPolyfill(element) {
  return [].slice.call(element.attributes).reduce(function(data, attribute) {
    var name = attribute.name;

    if (/^data-(.+)/.test(name)) {
      var normalizedName = name.substr(5).replace(/-\w/g, function(str) {
        return str[1].toUpperCase();
      });

      data[normalizedName] = attribute.value;
    }

    return data;
  }, {});
}

function getDatasetFn() {
  var element = document.createElement("div");

  return element.dataset ? datasetNative : datasetPolyfill;
}

var datasetFn = getDatasetFn();

function dataset(element) {
  return datasetFn(element);
}

exports.default = dataset;
