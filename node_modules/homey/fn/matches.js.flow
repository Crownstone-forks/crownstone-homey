/*!
 * homey v0.1.0-beta.13
 * https://github.com/demiazz/homey
 *
 * Copyright 2017-present Alexey Plutalov <demiazz.py@gmail.com>
 * Released under the MIT license
 *
 * @flow
 */

import type { CSSSelector } from "../types";

type Matches = (selector: CSSSelector) => boolean;

function getMatchesFn(): Matches {
  const element = (document.createElement("div"): any);

  return (
    element.matches ||
    element.matchesSelector ||
    element.msMatchesSelector ||
    element.mozMatchesSelector ||
    element.webkitMatchesSelector ||
    element.oMatchesSelector
  );
}

const matchesFn: Matches = getMatchesFn();

function matches(element: Element, selector: CSSSelector): boolean {
  return matchesFn.call(element, selector);
}

export default matches;
